/**
// Â© 2025 ashura_temps,    All Rights Reserved.
//
// This UI is custom-made. You are allowed to use it **only as-is**, inside the game.
// Do not modify, extract, reuse, or share any part of this UI including .json, .atemp files,
// layout structure, or design.
//
// Not allowed:
//   - Editing the UI (even for private/personal use)
//   - Using parts of the code or layout in your own pack
//   - Reuploading, redistributing, or hosting these files elsewhere
//   - Converting texture packs to Bedrock using this UI
//
// By using this project, you agree to these terms.
*/

{
  "namespace": "enchanting_screen",
  "enchanting_panel@container_common.container_details": {
    "size": [176, 166],
    "layer": 5,
    "$screen_controls": [
      {
        "close@global.close_button": {
          "offset": [14, -4],
          "$pressed": "textures/ui/ashur/close_pressed",
          "$default": "textures/ui/ashur/close_default",
          "$hover": "textures/ui/ashur/close_hover"
        }
      },
      {
        "portal@screen_content.image_element": {
          "layer": 5,
          "texture": "assets/advanced_sprites/animated/enchant.png",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [16, 16],
          "animation_reset_name": "screen_animation_reset",
          "offset": [15, 47],
          "uv_size": [16, 16],
          "uv": "@portal.portal_0",
          "disable_anim_fast_forward": true
        }
      },
      { "base_panel@screen_content.container_base": { "$enchanting_screen": true } },
      {
        "top_half@global.empty_stack": {
          "orientation": "vertical",
          "size": [117, 71],
          "anchor_to": "top_right",
          "anchor_from": "top_right",
          "controls": [
            { "top_filler@global.empty_panel": { "size": ["fill", 13] } },
            {
              "buttons_row@global.empty_stack": {
                "orientation": "horizontal",
                "size": [117, 57],
                "controls": [
                  {
                    "enchantments_button_grid": {
                      "type": "grid",
                      "layer": 6,
                      "size": [108, 57],
                      "collection_name": "#enchant_buttons",
                      "grid_dimensions": [1, 3],
                      "$toggle_group_forced_index|default": -1,
                      "controls": [
                        {
                          "1@enchanting_screen.enchant_button": {
                            "$toggle_group_forced_index": 1,
                            "grid_position": [0, 0]
                          }
                        },
                        {
                          "2@enchanting_screen.enchant_button": {
                            "$toggle_group_forced_index": 2,
                            "grid_position": [0, 1]
                          }
                        },
                        {
                          "3@enchanting_screen.enchant_button": {
                            "$toggle_group_forced_index": 3,
                            "grid_position": [0, 2]
                          }
                        }
                      ]
                    }
                  },
                  { "right_filler@global.empty_panel": { "size": [9, "fill"] } }
                ]
              }
            },
            { "top_filler@global.empty_panel": { "size": ["fill", 1] } }
          ]
        }
      },
      { "bottom@global.inventory_bottom_half": { "anchor_to": "bottom_middle", "anchor_from": "bottom_middle" } },
      {
        "lapis_and_book_stack@global.empty_stack": {
          "orientation": "vertical",
          "size": [90, 64],
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "controls": [
            { "filler_1@global.empty_panel": { "size": ["fill", 46] } },
            {
              "enchanting_input_grids@global.empty_stack": {
                "orientation": "horizontal",
                "size": [52, 18],
                "controls": [
                  { "filler_1@global.empty_panel": { "size": [14, "fill"] } },
                  { "item_input@global.container_item": { "$item_collection": "enchanting_input_items" } },
                  { "filler_2@global.empty_panel": { "size": [2, "fill"] } },
                  { "lapis_input@global.container_item": { "$item_collection": "enchanting_lapis_items" } }
                ]
              }
            }
          ]
        }
      },
      {
        "enchanting_book@global.empty_stack": {
          "orientation": "vertical",
          "size": [53, 46],
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "controls": [
            { "filler_1@global.empty_panel": { "size": ["fill", 6] } },
            {
              "second_stack@global.empty_stack": {
                "orientation": "horizontal",
                "size": [53, 40],
                "controls": [
                  { "filler_2@global.empty_panel": { "size": [13, "fill"] } },
                  {
                    "enchanting_book_holder@global.empty_panel": {
                      "size": [40, 40],
                      "controls": [
                        {
                          "enchanting_book@global.custom_renderer": {
                            "$type": "enchanting_book_renderer",
                            "layer": 13,
                            "offset": [0, 5],
                            "anchor_to": "center",
                            "anchor_from": "center",
                            "animation_reset_name": "screen_animation_reset",
                            "anims": [
                              "@common.screen_exit_size_animation_push",
                              "@common.screen_exit_size_animation_pop",
                              "@common.screen_entrance_size_animation_push",
                              "@common.screen_entrance_size_animation_pop"
                            ],
                            "bindings": [{ "binding_name": "#open", "binding_type": "global" }]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },
  "exp_orb@screen_content.image_element": {
    "anchor_to": "left_middle",
    "anchor_from": "left_middle",
    "keep_ratio": true,
    "layer": 6,
    "texture": "$exp_orb_texture",
    "size": [16, 16],
    "offset": [1, 1],
    "bindings": [
      {
        "binding_name": "('#' + $button_type_enchant + '_dust_is_visible')",
        "binding_name_override": "#visible",
        "binding_condition": "always",
        "binding_collection_name": "#enchant_buttons",
        "binding_type": "collection"
      }
    ]
  },
  "cost@global.empty_label": {
    "shadow": true,
    "layer": 9,
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "text": "#cost",
    "size": ["default", 10],
    "offset": [-1, 0],
    "bindings": [
      {
        "binding_name": "#cost",
        "binding_collection_name": "#enchant_buttons",
        "binding_type": "collection"
      },
      {
        "binding_collection_name": "#enchant_buttons",
        "binding_name": "#runes",
        "binding_type": "collection"
      },
      {
        "binding_type": "view",
        "binding_condition": "always",
        "source_property_name": "(not (#runes = ''))",
        "target_property_name": "#visible"
      }
    ]
  },
  "runes@global.empty_label": {
    "text": "#runes",
    "layer": 9,
    "offset": [6, 1],
    "size": [84, 16],
    "font_type": "rune",
    "bindings": [
      {
        "binding_collection_name": "#enchant_buttons",
        "binding_name": "#runes",
        "binding_type": "collection"
      }
    ]
  },
  "enchant_button@global.empty_panel": {
    "size": [108, 19],
    "controls": [
      {
        "hover_button": {
          "type": "button",
          "layer": 500,
          "size": [108, 19],
          "offset": [1, 1],
          "default_focus_precedence": 1,
          "hover_control": "hover_text",
          "consume_event": false,
          "button_mappings": [
            {
              "to_button_id": "button.container_slot_hovered",
              "mapping_type": "pressed",
              "consume_event": false
            }
          ],
          "controls": [
            {
              "hover_text@global.hover_text": {
                "bindings": [
                  {
                    "binding_name": "#hover_text",
                    "binding_collection_name": "#enchant_buttons",
                    "binding_type": "collection"
                  },
                  {
                    "binding_type": "view",
                    "binding_condition": "always",
                    "source_property_name": "('\u00a7r' + #hover_text - '\u00a7o')",
                    "target_property_name": "#hover_text"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#hover_text",
              "binding_collection_name": "#enchant_buttons",
              "binding_type": "collection"
            },
            {
              "binding_type": "view",
              "binding_condition": "always",
              "source_property_name": "(not (#hover_text = ''))",
              "target_property_name": "#visible"
            }
          ]
        }
      },
      {
        "enchant_button@toggle.radio_toggle": {
          "layer": 14,
          "$size": [108, 19],
          "$button_volume": 0.0,
          "$toggle_control_name": "('enchant' + $toggle_group_forced_index)",
          "$toggle_binding_value": "('#enchanting' + $toggle_group_forced_index)",
          "$toggle_name|default": "enchant_items",
          "$mapping_type|default": "pressed",
          "$button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.menu_ok",
              "mapping_type": "$mapping_type"
            },
            { "from_button_id": "button.menu_ok", "to_button_id": "button.menu_ok", "mapping_type": "focused" },
            {
              "from_button_id": "button.controller_back",
              "to_button_id": "button.menu_ok",
              "mapping_type": "focused",
              "ignored": "(not $is_ps4)"
            }
          ],
          "$radio_collection_name": "#enchant_buttons",
          "variables": {
            "requires": "($touch or $pocket_edition)",
            "$mapping_type|default": "double_pressed" // to combat the mobile not being able to see enchant info
          },
          "$controls": [
            { "default@enchanting_screen.unchecked_and_checked": {} },
            { "checked@enchanting_screen.unchecked_and_checked": {} },

            { "default_hover@enchanting_screen.unchecked_and_checked_hover": {} },
            { "checked_hover@enchanting_screen.unchecked_and_checked_hover": {} },

            { "disabled@screen_content.enchanting_button_disabled": { "layer": 2 } },

            //exp orb icons
            {
              "exp_enabled@enchanting_screen.exp_orb": {
                "$exp_orb_texture": "('assets/sprite_assets/container/enchanting_table/level_' + $toggle_group_forced_index)",
                "$button_type_enchant": "selectable"
              }
            },
            {
              "exp_disabled@enchanting_screen.exp_orb": {
                "$exp_orb_texture": "('assets/sprite_assets/container/enchanting_table/level_' + $toggle_group_forced_index + '_disabled')",
                "$button_type_enchant": "unselectable"
              }
            },

            { "cost@enchanting_screen.cost": { "layer": 2, "color": [0.4, 0.15, 0.2, 1.0] } },
            { "runes@enchanting_screen.runes": { "layer": 2, "color": [0.28, 0.1, 0.14, 1.0] } }
          ]
        }
      }
    ]
  },
  "unchecked_and_checked@global.empty_panel": {
    "size": ["100%", "100%"],
    "controls": [
      { "default@screen_content.enchanting_button": {} },

      { "cost@enchanting_screen.cost": { "color": [0.475, 0.95, 0.11875] } },
      { "runes@enchanting_screen.runes": { "color": [0.392, 0.357, 0.275, 1.0] } }
    ]
  },
  "unchecked_and_checked_hover@global.empty_panel": {
    "size": ["100%", "100%"],
    "controls": [
      { "hover@screen_content.enchanting_button_highlight": {} },

      { "cost@enchanting_screen.cost": { "color": [0.475, 0.95, 0.11875] } },
      { "runes@enchanting_screen.runes": { "color": [0.404, 0.365, 0.286] } }
    ]
  }
}
